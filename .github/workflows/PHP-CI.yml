name: PHP-CI

on:
  push:
    branches: [main] # Trigger the workflow on main branch push
  pull_request:
    branches: [main] # Trigger the workflow on main branch pull requests

jobs:
  PHP-Composer:
    runs-on: ubuntu-latest
    
    steps:

    - name: Checkout code
      uses: actions/checkout@v3





    - name: Check if python 3.9 is installed
      run: |
          if command -v python3.9 >/dev/null 2>&1; then
            echo "Python 3.9 is installed"
          else
            echo "Python 3.9 is not installed"
          fi
      
    - name: Install PHP
      run: |
        sudo apt-get update
        sudo apt-get install -y php-cli php-zip unzip
  

    - name: Install Composer
      run: |
        curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer
        
    - name: Install Laravel v10.0.0
      run: |
        composer create-project --prefer-dist laravel/laravel:v10.0.0 laravel

    - name: Run composer
      run: |
        cd laravel
        composer install
